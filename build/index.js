(()=>{var t,e={11:()=>{const t=t=>({"A+":4,A:3.75,"A-":3.5,"B+":3.25,B:3,"B-":2.75,"C+":2.5,C:2.25,D:2,F:0}[t]||0);document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".wp-block-dream-cgpa-calculator[data-semesters]").forEach(e=>{let s;try{s=JSON.parse(e.dataset.semesters||"[]")}catch(t){s=[]}let r=0,a=0,c="";s.forEach((e,s)=>{const l=(e=>{let s=0,r=0;return e.forEach(e=>{const a=parseFloat(e.credit),c=t(e.grade);isNaN(a)||(s+=a,r+=a*c)}),{credits:s,gpa:0===s?0:r/s}})(e.courses||[]),n=l.credits,o=l.gpa;r+=n,a+=o*n,c+=`<h3 class="cgpa-semester-title">${e.name||"Semester "+(s+1)}</h3>`,c+='\n\t\t\t\t<table class="cgpa-table">\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>Course Code</th>\n\t\t\t\t\t\t\t<th>Course Title</th>\n\t\t\t\t\t\t\t<th>Credit</th>\n\t\t\t\t\t\t\t<th>Grade</th>\n\t\t\t\t\t\t\t<th>Grade Point</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t',(e.courses||[]).forEach(e=>{const s=parseFloat(e.credit)||0,r=t(e.grade);c+=`\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td data-label="Course Code">${e.code||"-"}</td>\n\t\t\t\t\t\t<td data-label="Course Title">${e.title||"-"}</td>\n\t\t\t\t\t\t<td data-label="Credit">${s||0}</td>\n\t\t\t\t\t\t<td data-label="Grade">${e.grade||"-"}</td>\n\t\t\t\t\t\t<td data-label="Grade Point">${r.toFixed(2)}</td>\n\t\t\t\t\t</tr>\n\t\t\t\t`}),c+=`\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t\t<p class="cgpa-semester-summary">\n\t\t\t\t\t<strong>Semester Credits:</strong> ${n} &nbsp;&nbsp;\n\t\t\t\t\t<strong>Semester GPA:</strong> ${n?o.toFixed(3):"0.000"}\n\t\t\t\t</p>\n\t\t\t`});const l=0===r?0:(a/r).toFixed(3);c+=`\n\t\t\t<hr />\n\t\t\t<p class="cgpa-overall-summary">\n\t\t\t\t<strong>Total Earned Credits:</strong> ${r} &nbsp;&nbsp;\n\t\t\t\t<strong>Overall CGPA:</strong> ${l}\n\t\t\t</p>\n\t\t`;const n=e.querySelector(".cgpa-output");n&&(n.innerHTML=c)})})},486:(t,e,s)=>{"use strict";const r=window.wp.blocks,a=JSON.parse('{"UU":"dream-cgpa/calculator"}'),c=window.wp.i18n,l=window.wp.blockEditor,n=window.wp.element,o=window.ReactJSXRuntime,d=t=>({"A+":4,A:3.75,"A-":3.5,"B+":3.25,B:3,"B-":2.75,"C+":2.5,C:2.25,D:2,F:0}[t]||0),i=t=>{let e=0,s=0;return t.forEach(t=>{const r=parseFloat(t.credit),a=d(t.grade);isNaN(r)||(e+=r,s+=r*a)}),{credits:e,gpa:0===e?0:s/e}};s(11),(0,r.registerBlockType)(a.UU,{edit:function({attributes:t,setAttributes:e}){const{semesters:s=[]}=t;(0,n.useEffect)(()=>{0===s.length&&e({semesters:[{name:(0,c.__)("Semester 1","dream-cgpa-calculator"),courses:[]}]})},[]);const r=(0,l.useBlockProps)(),a=(t,r,a,c)=>{const l=[...s];l[t].courses[r][a]=c,e({semesters:l})};let u=0,p=0;s.forEach(t=>{const e=i(t.courses||[]);u+=e.credits,p+=e.gpa*e.credits});const h=0===u?0:p/u;return(0,o.jsxs)("div",{...r,className:"cgpa-editor",children:[s.map((t,r)=>{const l=i(t.courses||[]),n=l.credits,u=l.gpa;return(0,o.jsxs)("div",{className:"semester-box",children:[(0,o.jsxs)("div",{className:"semester-header",children:[(0,o.jsx)("input",{type:"text",className:"semester-name-input",value:t.name,onChange:t=>((t,r)=>{const a=[...s];a[t].name=r,e({semesters:a})})(r,t.target.value),placeholder:(0,c.__)("Semester Name","dream-cgpa-calculator")}),(0,o.jsx)("button",{type:"button",className:"delete-semester-btn",onClick:()=>(t=>{const r=s.filter((e,s)=>s!==t);e({semesters:r})})(r),title:(0,c.__)("Delete Semester","dream-cgpa-calculator"),children:"×"})]}),(0,o.jsxs)("table",{className:"cgpa-table",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:(0,c.__)("Course Code","dream-cgpa-calculator")}),(0,o.jsx)("th",{children:(0,c.__)("Course Title","dream-cgpa-calculator")}),(0,o.jsx)("th",{children:(0,c.__)("Credit","dream-cgpa-calculator")}),(0,o.jsx)("th",{children:(0,c.__)("Grade","dream-cgpa-calculator")}),(0,o.jsx)("th",{children:(0,c.__)("Grade Point","dream-cgpa-calculator")}),(0,o.jsx)("th",{})]})}),(0,o.jsxs)("tbody",{children:[t.courses.map((t,l)=>{const n=d(t.grade);return(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:(0,o.jsx)("input",{type:"text",value:t.code,onChange:t=>a(r,l,"code",t.target.value),placeholder:(0,c.__)("Code","dream-cgpa-calculator"),className:"table-input"})}),(0,o.jsx)("td",{children:(0,o.jsx)("input",{type:"text",value:t.title,onChange:t=>a(r,l,"title",t.target.value),placeholder:(0,c.__)("Course Title","dream-cgpa-calculator"),className:"table-input"})}),(0,o.jsx)("td",{children:(0,o.jsx)("input",{type:"number",value:t.credit,onChange:t=>a(r,l,"credit",t.target.value),placeholder:"0",className:"table-input",min:"0",step:"0.5"})}),(0,o.jsx)("td",{children:(0,o.jsxs)("select",{value:t.grade,onChange:t=>a(r,l,"grade",t.target.value),className:"table-select",children:[(0,o.jsx)("option",{value:"",children:"-"}),(0,o.jsx)("option",{children:"A+"}),(0,o.jsx)("option",{children:"A"}),(0,o.jsx)("option",{children:"A-"}),(0,o.jsx)("option",{children:"B+"}),(0,o.jsx)("option",{children:"B"}),(0,o.jsx)("option",{children:"B-"}),(0,o.jsx)("option",{children:"C+"}),(0,o.jsx)("option",{children:"C"}),(0,o.jsx)("option",{children:"D"}),(0,o.jsx)("option",{children:"F"})]})}),(0,o.jsx)("td",{className:"grade-point-cell",children:n>0?n.toFixed(2):"-"}),(0,o.jsx)("td",{children:(0,o.jsx)("button",{type:"button",className:"delete-course-btn",onClick:()=>((t,r)=>{const a=[...s];a[t].courses=a[t].courses.filter((t,e)=>e!==r),e({semesters:a})})(r,l),title:(0,c.__)("Delete Course","dream-cgpa-calculator"),children:"×"})})]},l)}),0===t.courses.length&&(0,o.jsx)("tr",{children:(0,o.jsx)("td",{colSpan:"6",className:"empty-row",children:(0,c.__)('No courses added yet. Click "Add Course" to add one.',"dream-cgpa-calculator")})})]})]}),(0,o.jsxs)("div",{className:"semester-actions",children:[(0,o.jsx)("button",{type:"button",onClick:()=>(t=>{const r=[...s];r[t].courses.push({code:"",title:"",credit:"",grade:""}),e({semesters:r})})(r),className:"add-course-btn",children:(0,c.__)("+ Add Course","dream-cgpa-calculator")}),(0,o.jsxs)("div",{className:"semester-gpa-display",children:[(0,o.jsx)("strong",{children:(0,c.__)("Semester Credits:","dream-cgpa-calculator")})," ",n,"   ",(0,o.jsx)("strong",{children:(0,c.__)("Semester GPA:","dream-cgpa-calculator")})," ",n?u.toFixed(3):"0.000"]})]})]},r)}),(0,o.jsxs)("div",{className:"overall-summary",children:[(0,o.jsx)("button",{type:"button",onClick:()=>{const t={name:(0,c.sprintf)((0,c.__)("Semester %d","dream-cgpa-calculator"),s.length+1),courses:[]};e({semesters:[...s,t]})},className:"add-semester-btn",children:(0,c.__)("+ Add Semester","dream-cgpa-calculator")}),(0,o.jsxs)("div",{className:"final-cgpa-display",children:[(0,o.jsx)("strong",{children:(0,c.__)("Total Earned Credits:","dream-cgpa-calculator")})," ",u,"   ",(0,o.jsx)("strong",{children:(0,c.__)("Overall CGPA:","dream-cgpa-calculator")})," ",h.toFixed(3)]})]})]})},save:function({attributes:t}){const{semesters:e=[]}=t,s=l.useBlockProps.save({"data-semesters":JSON.stringify(e)});return(0,o.jsx)("div",{...s,children:(0,o.jsx)("div",{className:"cgpa-output",children:(0,c.__)("CGPA will be calculated on the frontend…","dream-cgpa-calculator")})})}})}},s={};function r(t){var a=s[t];if(void 0!==a)return a.exports;var c=s[t]={exports:{}};return e[t](c,c.exports,r),c.exports}r.m=e,t=[],r.O=(e,s,a,c)=>{if(!s){var l=1/0;for(i=0;i<t.length;i++){for(var[s,a,c]=t[i],n=!0,o=0;o<s.length;o++)(!1&c||l>=c)&&Object.keys(r.O).every(t=>r.O[t](s[o]))?s.splice(o--,1):(n=!1,c<l&&(l=c));if(n){t.splice(i--,1);var d=a();void 0!==d&&(e=d)}}return e}c=c||0;for(var i=t.length;i>0&&t[i-1][2]>c;i--)t[i]=t[i-1];t[i]=[s,a,c]},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={57:0,350:0};r.O.j=e=>0===t[e];var e=(e,s)=>{var a,c,[l,n,o]=s,d=0;if(l.some(e=>0!==t[e])){for(a in n)r.o(n,a)&&(r.m[a]=n[a]);if(o)var i=o(r)}for(e&&e(s);d<l.length;d++)c=l[d],r.o(t,c)&&t[c]&&t[c][0](),t[c]=0;return r.O(i)},s=globalThis.webpackChunkdream_cgpa_calculator=globalThis.webpackChunkdream_cgpa_calculator||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))})();var a=r.O(void 0,[350],()=>r(486));a=r.O(a)})();